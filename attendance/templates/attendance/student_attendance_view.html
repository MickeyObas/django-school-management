{% extends 'base.html' %}

{% load static %}

{% block background_image %}{% static 'assets/images/school-11.jpg' %}{% endblock background_image %}

{% block content %}

<!-- Attendance Section -->
    <section>
        <div class="container">
            <div class="row pt-4 d-flex justify-content-center">
                <div class="col-md-6">
                <div class="card attendance__box">
                    <div class="card-body d-flex flex-column justify-content-between">
                        <table class="table table-bordered text-center">
                            <thead>
                                <tr>
                                    <th>Date</th>
                                    <th>Class</th>
                                    <th>Status</th>
                                </tr>
                            </thead>
                            {% for record in student_attendance_records %}
                            <tr>
                                <td>{{record.date|date:"m-d-Y"}}</td>
                                <td>{{record.course}}</td>
                                <td>{{record.get_status_display}}</td>
                            </tr>
                            {% endfor %}
                        </table>
                        <form action="">
                            <div class="pt-4 mt-md-5 d-flex justify-content-around">
                                <div class="d-flex flex-column">
                                    <select name="course" id="" class="form-select form-select-sm">
                                        <option value="">Course</option>
                                        {% for course in student_object.course_pack.courses.all %}
                                        <option value="{{course.code}}">{{course.code}}</option>
                                        {% endfor %}
                                    </select>
                                    <p class="form-text">Filter by Course</p>
                                </div>
                                <div class="d-flex flex-column">
                                    <select name="status" id="" class="form-select form-select-sm">>
                                        <option value="">Status</option>
                                        <option value="P">Present</option>
                                        <option value="A">Absent</option>
                                    </select>
                                    <p class="form-text">Filter by Status</p>
                                </div>
                            </div>
                            <input type="submit" value="Search" class="btn btn-danger w-100 mt-4">
                        </form>
                    </div>
                </div>
                </div>
            </div>
        </div>
    </section>

{% endblock content %}